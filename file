#Create SP

az ad sp create-for-rbac --name "****" --password "****"

{
  "appId": "a66119d2-4bc7-4ef9-a062-****",
  "displayName": "****",
  "name": "http://****",
  "password": "*****!",
  "tenant": "a0c064bc-4064-40d7-8839-*****"
}

app ID: 3fc7e98e-1cb4-41f3-b80e-a1dc29539d84
object id: c1e40f94-61f1-4b6d-b6e3-f8692ba1a38c
key: 3aFAwOlDpcsztmG6ve+jL6vXpY9uifhty5bpRrI+P24=
directory : bdef8a20-aaac-4f80-b3a0-d9a32f99fd33
subscription: 343d8463-57d8-4e9f-bb2c-7feb5299cdf3

#Generate access token
curl -X POST \
       -d 'grant_type=client_credentials&client_id=a66119d2-4bc7-4ef9-a062-****&client_secret=****&resource=https%3A%2F%2Fmanagement.azure.com%2F' \
     https://login.microsoftonline.com/a0c064bc-4064-40d7-8839-******/oauth2/token



#Get VNET Rule


curl -X GET -H "Authorization: Bearer eyJ0iJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Rpb0d5d3dsaHZkRmJYWjgxM1dwUGF5OUFsVSIsImtpZCI6IlRpb0d5d3dsaHZkRmJYWjgxM1dwUGF5OUFsVSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuYXp1cmUuY29tLyIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0L2EwYzA2NGJjLTQwNjQtNDBkNy04ODM5LWZlMjQwNGM3ZjFjZC8iLCJpYXQiOjE1MzA3NjkwMjcsIm5iZiI6MTUzMDc2OTAyNywiZXhwIjoxNTMwNzcyOTI3LCJhaW8iOiJZMmRnWUxBMGJXMUtUdjlmOTBERjdjR2lzS3NOQUE9PSIsImFwcGlkIjoiYTY2MTE5ZDItNGJjNy00ZWY5LWEwNjItNDU5YzZiY2I4MDlkIiwiYXBwaWRhY3IiOiIxIiwiaWRwIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvYTBjMDY0YmMtNDA2NC00MGQ3LTg4MzktZmUyNDA0YzdmMWNkLyIsIm9pZCI6ImMxZDkzMzY4LTY0NTAtNGI4Mi04ZjJhLWEzMmQxMTM0NzhmMiIsInN1YiI6ImMxZDkzMzY4LTY0NTAtNGI4Mi04ZjJhLWEzMmQxMTM0NzhmMiIsInRpZCI6ImEwYzA2NGJjLTQwNjQtNDBkNy04ODM5LWZlMjQwNGM3ZjFjZCIsInV0aSI6IkljUzlSUWwxaWthd2I1NGNMd29UQUEiLCJ2ZXIiOiIxLjAifQ.IOGOeXI-lRJyxTGdmwd5AEhV7xqfbUAdRJCY2PXitE2dvLpXDoR2R_yVhEhvzOi93r3K9OxYg5rQjNylgyulo1_IBhHjAUAUaYbNgXhALanrQZZPhOoYfKYsAqgeT71c2kxuAVEu0fQEHJ4KD1jsFOqRyTZh2mMuEz8vlZRHeN4-u1BMdZ39gKLCPBhxkTisvl-si8UWis6WtIP-ahdt0e2djMLm1viEvCb2FRKuCgfFx8ETISNTAMrdIkIPLslJ5GvY0nt8-hMSdGf7nmeFjESgLwM5bA4GI66diDJfrl56l9rlJ5CmvpP7kg2xb8uvVw1T4Gg5Fff8oPlcTv7n2g" -H "Content-Type: application/json" https://management.azure.com/subscriptions/01494bc7-51c0-4aa5-8fd0-****/resourceGroups/geeks_rg/providers/Microsoft.Sql/servers/tdegenpacttest/virtualNetworkRules/abcd?api-version=2015-05-01-preview

#Create VNET Rule

curl -X PUT -H "Authorization: Bearer eyJ0eiJKV1QiLCJhbGciOiJSUz1dCI6IlRpb0d5d3dsaHZkRmJYWjgxGF5OUFsVSIsImtpZCI6IlRpb0d5d3dsaHZkRmJYWjgxM1dwUGF5OUFsVSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuYXp1cmUuY29tLyIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0L2EwYzA2NGJjLTQwNjQtNDBkNy04ODM5LWZlMjQwNGM3ZjFjZC8iLCJpYXQiOjE1MzA3NjkwMjcsIm5iZiI6MTUzMDc2OTAyNywiZXhwIjoxNTMwNzcyOTI3LCJhaW8iOiJZMmRnWUxBMGJXMUtUdjlmOTBERjdjR2lzS3NOQUE9PSIsImFwcGlkIjoiYTY2MTE5ZDItNGJjNy00ZWY5LWEwNjItNDU5YzZiY2I4MDlkIiwiYXBwaWRhY3IiOiIxIiwiaWRwIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvYTBjMDY0YmMtNDA2NC00MGQ3LTg4MzktZmUyNDA0YzdmMWNkLyIsIm9pZCI6ImMxZDkzMzY4LTY0NTAtNGI4Mi04ZjJhLWEzMmQxMTM0NzhmMiIsInN1YiI6ImMxZDkzMzY4LTY0NTAtNGI4Mi04ZjJhLWEzMmQxMTM0NzhmMiIsInRpZCI6ImEwYzA2NGJjLTQwNjQtNDBkNy04ODM5LWZlMjQwNGM3ZjFjZCIsInV0aSI6IkljUzlSUWwxaWthd2I1NGNMd29UQUEiLCJ2ZXIiOiIxLjAifQ.IOGOeXI-lRJyxTGdmwd5AEhV7xqfbUAdRJCY2PXitE2dvLpXDoR2R_yVhEhvzOi93r3K9OxYg5rQjNylgyulo1_IBhHjAUAUaYbNgXhALanrQZZPhOoYfKYsAqgeT71c2kxuAVEu0fQEHJ4KD1jsFOqRyTZh2mMuEz8vlZRHeN4-u1BMdZ39gKLCPBhxkTisvl-si8UWis6WtIP-ahdt0e2djMLm1viEvCb2FRKuCgfFx8ETISNTAMrdIkIPLslJ5GvY0nt8-hMSdGf7nmeFjESgLwM5bA4GI66diDJfrl56l9rlJ5CmvpP7kg2xb8uvVw1T4Gg5Fff8oPlcTv7n2g" -H "Content-Type: application/json" --data '{ "properties": { "ignoreMissingVnetServiceEndpoint": "false", "virtualNetworkSubnetId": "/subscriptions/01494bc7-51c0-4aa5-8fd0-15562ca0ffec/resourceGroups/geeks_rg/providers/Microsoft.Network/virtualNetworks/Dtlminjar/subnets/DtlminjarSubnet" }}' https://management.azure.com/subscriptions/01494bc7-51c0-4aa5-8fd0-****/resourceGroups/geeks_rg/providers/Microsoft.Sql/servers/abcd/virtualNetworkRules/sureshrule?api-version=2015-05-01-preview

#API
https://docs.microsoft.com/en-us/rest/api/hdinsight/hdinsight-application

