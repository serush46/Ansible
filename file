#Create SP

az ad sp create-for-rbac --name "****" --password "****"

{
  "appId": "a66119d2-4bc7-4ef9-a062-****",
  "displayName": "****",
  "name": "http://****",
  "password": "*****!",
  "tenant": "a0c064bc-4064-40d7-8839-*****"
}

#Generate access token
curl -X POST \
       -d 'grant_type=client_credentials&client_id=a66119d2-4bc7-4ef9-a062-****&client_secret=****&resource=https%3A%2F%2Fmanagement.azure.com%2F' \
     https://login.microsoftonline.com/a0c064bc-4064-40d7-8839-******/oauth2/token



#Get VNET Rule


curl -X GET -H "Authorization: Bearer eyJ0iJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Rpb0d5d3dsaHZkRmJYWjgxM1dwUGF5OUFsVSIsImtpZCI6IlRpb0d5d3dsaHZkRmJYWjgxM1dwUGF5OUFsVSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuYXp1cmUuY29tLyIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0L2EwYzA2NGJjLTQwNjQtNDBkNy04ODM5LWZlMjQwNGM3ZjFjZC8iLCJpYXQiOjE1MzA3NjkwMjcsIm5iZiI6MTUzMDc2OTAyNywiZXhwIjoxNTMwNzcyOTI3LCJhaW8iOiJZMmRnWUxBMGJXMUtUdjlmOTBERjdjR2lzS3NOQUE9PSIsImFwcGlkIjoiYTY2MTE5ZDItNGJjNy00ZWY5LWEwNjItNDU5YzZiY2I4MDlkIiwiYXBwaWRhY3IiOiIxIiwiaWRwIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvYTBjMDY0YmMtNDA2NC00MGQ3LTg4MzktZmUyNDA0YzdmMWNkLyIsIm9pZCI6ImMxZDkzMzY4LTY0NTAtNGI4Mi04ZjJhLWEzMmQxMTM0NzhmMiIsInN1YiI6ImMxZDkzMzY4LTY0NTAtNGI4Mi04ZjJhLWEzMmQxMTM0NzhmMiIsInRpZCI6ImEwYzA2NGJjLTQwNjQtNDBkNy04ODM5LWZlMjQwNGM3ZjFjZCIsInV0aSI6IkljUzlSUWwxaWthd2I1NGNMd29UQUEiLCJ2ZXIiOiIxLjAifQ.IOGOeXI-lRJyxTGdmwd5AEhV7xqfbUAdRJCY2PXitE2dvLpXDoR2R_yVhEhvzOi93r3K9OxYg5rQjNylgyulo1_IBhHjAUAUaYbNgXhALanrQZZPhOoYfKYsAqgeT71c2kxuAVEu0fQEHJ4KD1jsFOqRyTZh2mMuEz8vlZRHeN4-u1BMdZ39gKLCPBhxkTisvl-si8UWis6WtIP-ahdt0e2djMLm1viEvCb2FRKuCgfFx8ETISNTAMrdIkIPLslJ5GvY0nt8-hMSdGf7nmeFjESgLwM5bA4GI66diDJfrl56l9rlJ5CmvpP7kg2xb8uvVw1T4Gg5Fff8oPlcTv7n2g" -H "Content-Type: application/json" https://management.azure.com/subscriptions/01494bc7-51c0-4aa5-8fd0-****/resourceGroups/geeks_rg/providers/Microsoft.Sql/servers/tdegenpacttest/virtualNetworkRules/abcd?api-version=2015-05-01-preview

#Create VNET Rule

curl -X PUT -H "Authorization: Bearer eyJ0eiJKV1QiLCJhbGciOiJSUz1dCI6IlRpb0d5d3dsaHZkRmJYWjgxGF5OUFsVSIsImtpZCI6IlRpb0d5d3dsaHZkRmJYWjgxM1dwUGF5OUFsVSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuYXp1cmUuY29tLyIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0L2EwYzA2NGJjLTQwNjQtNDBkNy04ODM5LWZlMjQwNGM3ZjFjZC8iLCJpYXQiOjE1MzA3NjkwMjcsIm5iZiI6MTUzMDc2OTAyNywiZXhwIjoxNTMwNzcyOTI3LCJhaW8iOiJZMmRnWUxBMGJXMUtUdjlmOTBERjdjR2lzS3NOQUE9PSIsImFwcGlkIjoiYTY2MTE5ZDItNGJjNy00ZWY5LWEwNjItNDU5YzZiY2I4MDlkIiwiYXBwaWRhY3IiOiIxIiwiaWRwIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvYTBjMDY0YmMtNDA2NC00MGQ3LTg4MzktZmUyNDA0YzdmMWNkLyIsIm9pZCI6ImMxZDkzMzY4LTY0NTAtNGI4Mi04ZjJhLWEzMmQxMTM0NzhmMiIsInN1YiI6ImMxZDkzMzY4LTY0NTAtNGI4Mi04ZjJhLWEzMmQxMTM0NzhmMiIsInRpZCI6ImEwYzA2NGJjLTQwNjQtNDBkNy04ODM5LWZlMjQwNGM3ZjFjZCIsInV0aSI6IkljUzlSUWwxaWthd2I1NGNMd29UQUEiLCJ2ZXIiOiIxLjAifQ.IOGOeXI-lRJyxTGdmwd5AEhV7xqfbUAdRJCY2PXitE2dvLpXDoR2R_yVhEhvzOi93r3K9OxYg5rQjNylgyulo1_IBhHjAUAUaYbNgXhALanrQZZPhOoYfKYsAqgeT71c2kxuAVEu0fQEHJ4KD1jsFOqRyTZh2mMuEz8vlZRHeN4-u1BMdZ39gKLCPBhxkTisvl-si8UWis6WtIP-ahdt0e2djMLm1viEvCb2FRKuCgfFx8ETISNTAMrdIkIPLslJ5GvY0nt8-hMSdGf7nmeFjESgLwM5bA4GI66diDJfrl56l9rlJ5CmvpP7kg2xb8uvVw1T4Gg5Fff8oPlcTv7n2g" -H "Content-Type: application/json" --data '{ "properties": { "ignoreMissingVnetServiceEndpoint": "false", "virtualNetworkSubnetId": "/subscriptions/01494bc7-51c0-4aa5-8fd0-15562ca0ffec/resourceGroups/geeks_rg/providers/Microsoft.Network/virtualNetworks/Dtlminjar/subnets/DtlminjarSubnet" }}' https://management.azure.com/subscriptions/01494bc7-51c0-4aa5-8fd0-****/resourceGroups/geeks_rg/providers/Microsoft.Sql/servers/abcd/virtualNetworkRules/sureshrule?api-version=2015-05-01-preview

#API
https://docs.microsoft.com/en-us/rest/api/hdinsight/hdinsight-application


-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEAt3pZLaWffWmbysChcW3KRpJpYIUKzOlYfES4Dsavf8eqRQZv
APAZXgPVtij+JbHpKfBZ4vuob+l7LehHlZXkKFx1LnmTcKygzTE6G9B7wNs9iTI9
PeFWVAs5TsK+cLXOsix711SJmgW+cmUBzh6lMSa9Ct3hP7Gh83Q7DFi3OdWCvnYg
zYH0zUq69KqiNzrSA8BfXjZxM0P1Z+NFy7mencl8+aY6VIJGLHM0EJBC9wzyVOAF
B+F4SSUhX2XwJK9fhcnNcFzO+bBvfl4mdS6kVANaSNjts/T9wLrFJhHFhZSes02o
Lg8xnI+q+vrhChE5LZtzBmZ0yJWSoYWIU4OggwIDAQABAoIBAGsGtoB3DVrlwNf7
l/EHnyedflSsJsmzEEek+ky8P2FlQgBzqUq9w75gtEhHD0FDz4QETRqnu/BUHOOB
jEhIoEee70gF6SifukkXfxL8gUPVX8bpBGpVSLtLtMkptlce5oxugGrySDYNRbOL
Egt/OtM6CqoNFbjG0HaoBU3FblQQKATHmhSG1Z4CkdJmDceTLJpoC3ntAhH14l+b
H0/0YNNTS7YUcgQCexqMkXGxQOO32kutn6ONHHfgeJwhBoYS8+AHMgle95OeHBdK
STWM1ZvvluE0YoPQ+anVpy+RihlvyE0bhweByt6TzDkfd4YolBiknWj7PLcn3SQk
4WBoobkCgYEA3ZasEvQeVJLtFpXwdhhy87vDGU+nV++mTCbXbSUC3RBSiMeiOnyw
NhjN0n2kkmAU+Bbv9X34Fw+hTq2l7YcWaJdldcHeMDGwIbjYqfRnbcZREcjuE6ts
SWF/8j22A2RJ8WHjQg0Z1Zc1ebiUf9PKkhLaKDOwZmNbcQcF2J7+O4cCgYEA0/iT
K65g0bB1A5FHpCFmPS/G90eTido07rvKIKUHSGUhg17Vi5NaM51jZN3o8nFzMVm4
1ShWu7iYNefMwYZsqutl7dwlAGKlL8gyj3Y+ix5HaJPFTLdNZbPznP/btdeXSV3z
3Q7hDZ2vrKY9a3CnwAcAmbsCCV7T+yb4iMvwSiUCgYEAkAkowQk9zevTgSLls14h
Gp2qLAHC3T5B8q4syh2MxvWdMJvTsADs6b0lzPUuzJb4Cmuefwzq/tKCIApwGP3+
au4+XVUvgFRMER9+drsPoCOQ/uaFGvQK54ghCu1iKsI97lGaz4yEhnpLoFuC67RX
sKvgctFmkKd1APt3qV9wEnECgYAwWO4YdHmY2kqWObjBcuzC3/bdx/Ga665PFX4Q
3BNBK+/s6uCCKWXVh/x3sTXEtqOziedilwTRZFUzVl+ZdHOsuGxTSHcYE2fh8iO2
HR4+1PUsoSfLS7PXkqfqE2GlpDrZfRh2P0KNvH2pP3Ga4+MfJXm5lrHsOTjYfBcL
/JgeEQKBgC7sEssx/Oxp/kWpm18Mu4A1EH/KcLqLJrLLQ6GIqUi+7Rqu9tLiyybl
aLYSPUaVLIrzvsepKUpNTN4/JuOi5Gm6iWSSA8ZYnzhrHIRO1artK9bEsop2qc+Z
CU/t2mdE2eF3+w7YopG9NCMplhwfyb/tm4rphP5XXC+BeFTWYpp9
-----END RSA PRIVATE KEY-----

